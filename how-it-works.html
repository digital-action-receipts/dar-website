<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>How it works · Digital Action Receipts</title>
  <meta name="description" content="A conceptual explanation of how Digital Action Receipts are generated at the moment of action and later verified for integrity." />

  <style>
    :root{
      --bg:#ffffff;
      --ink:#0b1220;
      --muted:#4a5568;
      --line:#e6eaf0;
      --panel:#f7f9fc;
      --accent:#2b5fd9;
      --nav:#0f172a;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      background:var(--bg);
      color:var(--ink);
      font-family:var(--sans);
      line-height:1.55;
    }
    a{color:var(--accent); text-decoration:none}
    a:hover{text-decoration:underline}
    .wrap{max-width:980px; margin:0 auto; padding:0 20px}

    header{
      position:sticky; top:0;
      background:rgba(255,255,255,0.94);
      backdrop-filter:saturate(180%) blur(10px);
      border-bottom:1px solid var(--line);
      z-index:10;
    }
    .nav{
      display:flex; align-items:center; justify-content:space-between;
      padding:14px 0;
      gap:16px;
    }
    .brand{display:flex; flex-direction:column; gap:2px;}
    .brand strong{font-size:14px; color:var(--nav)}
    .brand span{font-size:12px; color:var(--muted)}
    nav ul{
      list-style:none; margin:0; padding:0;
      display:flex; gap:16px; flex-wrap:wrap;
      font-size:13px;
    }
    nav a{color:var(--nav)}

    main{padding:42px 0 64px}

    h1{
      margin:0 0 10px;
      font-size:40px;
      letter-spacing:-0.5px;
      line-height:1.15;
    }
    .lede{
      margin:0;
      color:var(--muted);
      font-size:16px;
      max-width:860px;
    }

    section{
      padding:28px 0;
      border-top:1px solid var(--line);
    }
    h2{
      margin:0 0 10px;
      font-size:16px;
      color:var(--nav);
    }
    .sub{
      margin:0 0 14px;
      color:var(--muted);
      font-size:14px;
      max-width:860px;
    }

    .how{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:12px;
    }
    .card{
      border:1px solid var(--line);
      border-radius:12px;
      background:#fff;
      padding:14px;
    }
    .step{
      font-size:12px;
      color:var(--muted);
      text-transform:uppercase;
      margin-bottom:6px;
      letter-spacing:.04em;
    }
    .title{
      margin:0 0 6px;
      font-size:14px;
      color:var(--nav);
      font-weight:600;
    }
    .text{
      margin:0;
      font-size:14px;
      color:var(--muted);
    }
    .note{
      margin-top:14px;
      border:1px solid var(--line);
      border-radius:12px;
      background:var(--panel);
      padding:14px 16px;
      color:var(--muted);
      font-size:13px;
      max-width:860px;
    }
    .note b{color:var(--ink)}

    .code{
      margin:14px 0 0;
      border:1px solid var(--line);
      border-radius:12px;
      background:var(--panel);
      overflow:auto;
    }
    pre{
      margin:0;
      padding:14px 16px;
      font-family:var(--mono);
      font-size:12.5px;
      white-space:pre;
    }

    .grid{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:12px;
    }
    .bullets{
      margin:10px 0 0;
      padding-left:18px;
      color:var(--muted);
      font-size:14px;
    }

    .divider{
      margin-top:18px;
      padding-top:18px;
      border-top:1px solid var(--line);
    }

    footer{
      border-top:1px solid var(--line);
      padding:26px 0 36px;
      font-size:12px;
      color:var(--muted);
    }
    .foot{
      display:flex; justify-content:space-between; flex-wrap:wrap;
      gap:12px;
    }

    @media (max-width:860px){
      h1{font-size:34px}
      .how,.grid{grid-template-columns:1fr}
    }
  </style>
</head>

<body>

<header>
  <div class="wrap">
    <div class="nav">
      <div class="brand">
        <strong><a href="/" style="color:var(--nav); text-decoration:none;">Digital Action Receipts</a></strong>
        <span>Neutral infrastructure primitive</span>
      </div>
      <nav aria-label="Primary">
        <ul>
          <li><a href="/definition.html">Definition</a></li>
          <li><a href="/how-it-works.html">How it works</a></li>
          <li><a href="/use-cases.html">Use cases</a></li>
          <li><a href="/boundaries.html">Boundaries</a></li>
          <li><a href="/memos.html">Memos</a></li>
        </ul>
      </nav>
    </div>
  </div>
</header>

<main class="wrap">

  <section style="border-top:none; padding-top:0;">
    <h1>How it works</h1>
    <p class="lede">
      A Digital Action Receipt is generated <b>at the moment a digital system takes an action</b>.
      The receipt is a neutral artifact: it records occurrence and supports integrity verification later,
      independent of how the originating system later represents or explains the action.
    </p>

    <div class="note">
      The design goal is simple: make “what happened?” answerable by reference — without turning logs into a courtroom.
      DARs do not claim correctness, intent, justification, or enforcement.
    </div>
  </section>

  <section>
    <h2>The core lifecycle</h2>
    <p class="sub">
      The same lifecycle applies across legacy systems, automated systems, and agentic systems. The differences are in integration patterns — not in what the receipt means.
    </p>

    <div class="how">
      <div class="card">
        <div class="step">1 · Digital action occurs</div>
        <div class="title">An action executes</div>
        <p class="text">An approval, access change, configuration update, authorization, or other action is performed inside an existing system.</p>
      </div>

      <div class="card">
        <div class="step">2 · Moment of action</div>
        <div class="title">Receipt invocation</div>
        <p class="text">At execution time, the system invokes a receipt service in a non-blocking manner.</p>
      </div>

      <div class="card">
        <div class="step">3 · Receipt issuance</div>
        <div class="title">Receipt generated</div>
        <p class="text">A receipt is generated and returned with a receipt identifier and integrity information.</p>
      </div>

      <div class="card">
        <div class="step">4 · Later reference</div>
        <div class="title">Reference & verification</div>
        <p class="text">The receipt identifier is used later in audits, disputes, incident timelines, or reviews. Verification confirms integrity only.</p>
      </div>
    </div>

    <div class="code">
      <pre><code>// Illustrative only (non-prescriptive)

receipt = issueReceipt({
  actor: "system|service|agent|user",
  action: "access.approved",
  object: "resource:payments",
  ref: "internal-id-123"
})

// Later: include receipt.id in a ticket / report / dispute record.</code></pre>
    </div>
  </section>

  <section>
    <h2>Integration patterns</h2>
    <p class="sub">
      “How it works” in the real world is usually about where the receipt identifier travels. Below are common patterns that keep operational systems unchanged while making actions referenceable.
    </p>

    <div class="grid">
      <div class="card">
        <div class="step">Pattern A</div>
        <div class="title">Legacy workflow system</div>
        <p class="text">A line-of-business system performs actions; a receipt identifier is written into its existing case/ticket/comment field.</p>
        <ul class="bullets">
          <li>No new UI required.</li>
          <li>Receipts become “anchors” in existing workflows.</li>
          <li>Verification is external and integrity-only.</li>
        </ul>
      </div>

      <div class="card">
        <div class="step">Pattern B</div>
        <div class="title">Automated system (jobs, CI/CD, infra automation)</div>
        <p class="text">An automation engine executes actions; the receipt identifier is attached to deployment records, change tickets, or incident timelines.</p>
        <ul class="bullets">
          <li>Useful for “what changed?” after incidents.</li>
          <li>Coexists with existing logs/metrics (not a replacement).</li>
          <li>Receipts remain neutral artifacts.</li>
        </ul>
      </div>

      <div class="card">
        <div class="step">Pattern C</div>
        <div class="title">Agent-initiated actions</div>
        <p class="text">An agent performs actions on behalf of an organization; each action emits a receipt identifier that can be reviewed later without importing agent reasoning.</p>
        <ul class="bullets">
          <li>Captures occurrence at execution time.</li>
          <li>Does not validate correctness or intent.</li>
          <li>Supports human review through references.</li>
        </ul>
      </div>

      <div class="card">
        <div class="step">Pattern D</div>
        <div class="title">Cross-system reference</div>
        <p class="text">A receipt identifier is the common pointer across multiple systems (ticketing, risk review, vendor records) without requiring shared internal access.</p>
        <ul class="bullets">
          <li>Reduces dependence on screenshots and narratives.</li>
          <li>Allows multiple parties to reference the same artifact.</li>
          <li>Verification can be performed independently.</li>
        </ul>
      </div>
    </div>

    <div class="note">
      A useful rule: <b>the receipt identifier should travel where questions travel</b> — tickets, cases, approvals, incident reports, and dispute records.
    </div>
  </section>

  <section>
    <h2>What a receipt provides</h2>
    <p class="sub">
      Receipts are intentionally minimal. They provide durable reference and integrity verification without inheriting the originating system’s narrative, UI, or enforcement model.
    </p>

    <div class="grid">
      <div class="card">
        <div class="title">Receipt identifier</div>
        <p class="text">A stable reference string used in documentation, cases, and workflows.</p>
      </div>
      <div class="card">
        <div class="title">Moment of action</div>
        <p class="text">A timestamp tied to the occurrence of the action (not to later reconstruction).</p>
      </div>
      <div class="card">
        <div class="title">Integrity information</div>
        <p class="text">Information used to verify the receipt has not been altered.</p>
      </div>
      <div class="card">
        <div class="title">Minimal action descriptor</div>
        <p class="text">A compact description sufficient for reference (not explanation).</p>
      </div>
    </div>

    <div class="divider"></div>

    <div class="note">
      Verification confirms integrity only: <b>unaltered vs altered</b> (or mismatch detected). It does not confirm correctness, intent, justification, or compliance.
      See <a href="/boundaries.html">Boundaries</a>.
    </div>
  </section>

  <section>
    <h2>Optional extension: event-triggered receipts</h2>
    <p class="sub">
      Some environments require identifying a discrete trigger moment after observing signals/state over time.
      This extension keeps responsibilities separated: event triggering determines <i>when</i>, the receipt service generates the receipt.
    </p>

    <div class="how">
      <div class="card">
        <div class="step">Observe over time</div>
        <div class="title">Event-triggering system</div>
        <p class="text">Observes signals/state and determines when a receipt-worthy event has occurred.</p>
      </div>
      <div class="card">
        <div class="step">Trigger moment</div>
        <div class="title">Trigger signal</div>
        <p class="text">At the trigger moment, emits a trigger signal to invoke receipt generation (separately).</p>
      </div>
    </div>

    <div class="note">
      This is intentionally separate from core DAR. It is an extension pattern, not the definition of a receipt.
    </div>
  </section>

</main>

<footer>
  <div class="wrap">
    <div class="foot">
      <div><strong>Digital Action Receipts ©</strong> — neutral, append-only proof of action.</div>
      <div>Independent infrastructure research</div>
    </div>
    <div style="margin-top:10px;">
      No dashboards. No monitoring. Just facts, referenceable later.
    </div>
  </div>
</footer>

</body>
</html>
